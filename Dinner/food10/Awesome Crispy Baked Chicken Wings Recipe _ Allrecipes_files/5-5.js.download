(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{420:function(t,e,n){"use strict";n.r(e);var a=n(14),i=n.n(a),s=n(1),r=n.n(s),o=n(2),c=n.n(o),u=n(4);function d(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.partnerCookie=i.a.get("UserGuid"),this.AuthToken=i.a.get("ARToken"),this.userDetails=null,this.checkCookie()}var e,n,a;return e=t,(n=[{key:"checkCookie",value:function(){this.partnerCookie?this.isAuthenticated=!0:this.isAuthenticated=!1}},{key:"artificialTokenExtend",value:function(){this.AuthToken&&i.a.set("ARToken",this.AuthToken,{expires:365,domain:".allrecipes.com",path:"/"})}},{key:"updateUserInfo",value:function(){var t=this.userDetails[0],e=c.a.get(t,"thumbnail.udf.image.original.src",null),n=c.a.get(t,"displayName",null);"undefined"!==c.a.get(t,"userGuid")&&c.a.get(t,"userGuid",null)&&(this.artificialTokenExtend(),e&&["profile-img"].map((function(t){var n=r()(".".concat(t));return 0!==n.length?n.attr("src",e):null})),n&&"Anonymous"!==n&&["secondary-menu-label"].map((function(t){var e=r()(".".concat(t));return 0!==e.length?e.text(n):null})))}},{key:"setPageAuthState",value:function(){var t=this;if(this.isAuthenticated){r.a.ajax({url:"/element-api/content-proxy/user-card/",type:"GET",cache:!1,success:function(e,n,a){200===a.status&&(t.userDetails=JSON.parse(e),t.updateUserInfo())}}).fail((function(){console.log("error occurred: couldn't fetch user info")})),document.body.classList.add("authenticated");var e=new Event(u.c);document.body.dispatchEvent(e)}else document.body.classList.remove("authenticated")}}])&&d(e.prototype,n),a&&d(e,a),t}();e.default=function(){(new l).setPageAuthState()}},445:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return r}));var a=n(5),i=n.n(a),s=n(4);function r(){i()(s.m).subscribe((function(t,e){var n=e.closest(".component.dropdown"),a=e.closest(".heading");if(n.length&&a.length){var i=a.find("span[data-default-text]").attr("data-default-text"),s=a.find("span[data-toggle-text]"),r=s.attr("data-toggle-text");return n.hasClass("dropdown-open")?(r&&s.text(r),n.removeClass("dropdown-open")):(r&&s.text(i),n.addClass("dropdown-open"))}return null}))}},456:function(t,e,n){"use strict";n.r(e);var a=n(1),i=n.n(a),s=n(5),r=n.n(s),o=n(4);function c(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.addClass("initialized"),this.$searchBtn=i()(".js-faceted-search-widget-button",e),this.$dropDown=i()(".js-faceted-search-widget-dropdown-list",e),this.$dropDownItem=i()(".js-faceted-search-widget-dropdown-item",e),this.$dropDownInput=i()(".faceted-search-widget-dropdown-input",e),this.$searchForm=i()(".faceted-search-widget",e)}var e,n,a;return e=t,(n=[{key:"init",value:function(t){this.$searchForm.trigger("reset"),this.$searchBtn.on("click",(function(){i()(this).next().toggleClass("is-open"),i()(this).attr("aria-expanded","false"===i()(this).attr("aria-expanded")?"true":"false")})),this.$dropDownItem.click((function(){var e=i()(this).closest(".js-faceted-search-widget-dropdown-list").siblings(".js-faceted-search-widget-button"),n=e.text().trim().split(", "),a=i()(this).text().trim(),s=n.indexOf(a),r=e.attr("text");-1===s&&n.push(a),i()(this).hasClass("checked")&&n.splice(s,1),n[0]===r&&n.shift(),n.length||n.push(r),e.text(n.join(", ")),i()(this).toggleClass("checked"),t&&this.previousElementSibling.toggleAttribute("checked")})),this.$dropDownItem.hover((function(){i()(this).toggleClass("active")})),this.$dropDownInput.focus((function(){i()(".js-faceted-search-widget-dropdown-item").removeClass("active"),i()(this).next().toggleClass("active")}))}}])&&c(e.prototype,n),a&&c(e,a),t}();e.default=function(){i()(".faceted-search-widget-wrapper").each((function(){new u(i()(this)).init()})),r()(o.d).subscribe((function(){i()(".faceted-search-widget-wrapper:not(.initialized)").each((function(){new u(i()(this)).init(!0)}))})),r()(o.m).subscribe((function(t,e){var n=i()(".js-faceted-search-widget-dropdown-list",e),a=i()(".js-faceted-search-widget-button",e);e.closest(n).length||e.is(a)||(n.removeClass("is-open"),a.attr("aria-expanded","false"))}))}},478:function(t,e,n){"use strict";n.r(e);var a=n(1),i=n.n(a),s=n(5),r=n.n(s),o=n(4);function c(){var t=window.OBR;t&&t.extern&&t.extern.researchWidget()}r()(o.S).subscribe(c),r()(o.d).subscribe(c),r()(o.V).subscribe((function(){if(i()(".component.outbrain .OUTBRAIN").length>0){var t=window.OBR;t&&t.extern&&t.extern.refreshWidget()}}));var u=function(){return i()(".LAZYBRAIN:not(.ENDSLATE)").each((function(t,e){var n=i()(e);n.is(":visible")&&(n.clone().removeClass("LAZYBRAIN").addClass("OUTBRAIN").insertAfter(n),n.remove(),r()(o.S).broadcast())}))};r()(o.U).subscribe((function(){i()(".LAZYBRAIN.ENDSLATE").each((function(t,e){i()(e).removeClass("ENDSLATE"),u()}))})),r()(o.T).subscribe((function(){i()(".component.outbrain.end-slate").each((function(){var t=i()(void 0),e=t.find(".OUTBRAIN").eq(0);if(0!==e.length){var n=e.data();t.empty(),i()(document.createElement("div")).addClass("LAZYBRAIN ENDSLATE").attr({"data-src":n.src,"data-widget-id":n.widgetId,"data-ob-template":n.obTemplate}).appendTo(t)}}))})),e.default=function(){return!!i()("body").hasClass("strip-ads")||i.a.getScript("//widgets.outbrain.com/outbrain.js",(function(){return r()(o.S).broadcast(),r()(o.wb).subscribe(u),u()}))}},488:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return c}));var a=n(5),i=n.n(a),s=n(1),r=n.n(s),o=n(4);function c(){i()(o.Ub).subscribe((function(t,e){if("success"===t.status){var n=r()(".component.project-ratings[data-uuid=".concat(e.id,"]")),a=r()(".project-ratings-rating-title",n);a.length&&a.text("You have rated this project.")}})),i()(o.m).subscribe((function(t,e){var n="";if(e.hasClass("project-ratings-rating-label")?n=e.prevAll(".project-ratings-rating-value"):e.hasClass("project-ratings-accessible-submit")&&(n=e.parent().find(".project-ratings-rating-value:checked")),n.length){var a=e.parents(".component.project-ratings"),i=e.parents(".component.ugc-comments"),s=n.val(),o=a.data("uuid"),c=r()(".component.project-ratings[data-uuid=".concat(o,"]")),u=r()(".project-ratings-rating-value[value=".concat(s,"]"),c);sessionStorage.setItem("ratingValue",s),u.length&&u.each((function(t,e){r()(e).prop("checked",!0)}));var d=e.parents(".ugc-upload-modal.modal").length;setTimeout((function(){if(!d&&i.length){var t=r()(".ugc-comments-add-comment",i);t.length&&(r()("body").hasClass("authenticated")?t.click():t.focus())}}),25)}}))}},489:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return u}));var a=n(2),i=n.n(a),s=n(1),r=n.n(s);function o(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$context=e,this.$content=r()(".quick-registration__content",this.$context);var n=this.$context.attr("data-regsource");n&&(this.regSource=n),this.getPage()}var e,n,a;return e=t,(n=[{key:"getPage",value:function(){var t=this;if(this.$content.length){var e="/account/quick-signup?json=true";this.regSource&&(e="".concat(e,"&regsource=").concat(this.regSource)),r.a.ajax({url:e,error:function(){},success:function(e){i.a.get(e,"html")&&t.$content.html(i.a.get(e,"html"))},complete:function(){t.$context.removeClass("loading")}})}}}])&&o(e.prototype,n),a&&o(e,a),t}();function u(){r()(".component.quick-registration").each((function(t,e){var n=r()(e);n.data("quick-registration",new c(n))}))}},512:function(t,e,n){"use strict";n.r(e);var a=n(1),i=n.n(a),s=n(5),r=n.n(s),o=n(4),c=n(57);function u(){var t=Object(c.a)(),e=i()(".sweepstakesEntry__description"),n=i()(".js-hideMe");"mobile"===t?(e.addClass("truncated"),n.addClass("hide")):(e.removeClass("truncated"),n.removeClass("hide")),r()(o.sb).broadcast()}e.default=function(){u(),r()(o.m).subscribe((function(t,e){e.hasClass("sweepstakesEntry__descriptionReadMoreLink")&&(t.preventDefault(),i()(".sweepstakesEntry__description").removeClass("truncated"),i()(".js-hideMe").removeClass("hide"),r()(o.sb).broadcast())})),r()(o.f).subscribe((function(){u()}))}}}]);
//# sourceMappingURL=5-5.js.map